/* ContextRosker v1.0.1 - 30/01/2015
   http://ikergune.com
   Copyright (c) 2015 IÃ±igo Gonzalez Vazquez <ingonza85@gmail.com> (@haas85) - Under MIT License */
(function(){window.CB=function(){var a,b,c,d,e,f,g;f={cburl:"http://localhost:10101"};a=function(a){var b,c;if(a!=null){c=[];for(b in a){c.push(f[b]=a[b])}return c}else{return f}};b=function(a,b,c){var d;if(b==null){b="NotYet"}c["firosstamp"]=(new Date).getTime();d=new RegExp('"',"g");return{name:a,type:b,value:JSON.stringify(c).replace(d,"'")}};e=function(a,b,c,d){var e;if(b==null){b="ROBOT"}if(c==null){c=[]}e={url:""+f.cburl+"/NGSI10/updateContext",method:"POST",accepts:"application/json; charset=utf-8",dataType:"json",crossDomain:true,data:g(a,b,c),success:function(a){if(d!=null){return d.call(d,a)}},error:function(a,b,c){if(d!=null){return d.call(d)}}};return $.ajax(e)};g=function(a,b,c){var d,e,f,g;if(c==null){c=[]}e=[];for(f=0,g=c.length;f<g;f++){d=c[f];e.push(d.name)}c.unshift({name:"COMMAND",type:"COMMAND",value:e});return{contextElements:[{id:a,type:b,isPattern:"false",attributes:c}],updateAction:"APPEND"}};d=function(a,b){var c;c={entities:[{id:a.id||".*",type:a.type||"ROBOT",isPattern:a.pattern||"true"}]};a={url:""+f.cburl+"/NGSI9/discoverContextAvailability",method:"POST",accepts:"application/json; charset=utf-8",dataType:"json",crossDomain:true,data:c,success:function(a){if(b!=null){return b.call(b,a)}},error:function(a,c,d){if(b!=null){return b.call(b)}}};return $.ajax(a)};c=function(a){var b;b={id:".*",type:"ROBOT",isPattern:"true"};return this.getContext(b,a)};return{config:a,createContent:b,sendData:e,getContext:d,getAllRobots:c}}()}).call(this);